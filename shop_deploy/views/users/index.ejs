<h2 class="center">ユーザー,一覧</h2>
<div class="center">
  <a class="button" href="/users/new">新規ユーザー登録</a>
</div>
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Zip Code</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
    <!--ビューの中で、ユーザーの配列をループする-->
    <% users.forEach(user => { %>
    <tr>
      <td><%# ユーザーの名前とIDを、HTMLに埋め込む %>
        <a href="<%= `/users/${user._id}` %>">
          <%= user.fullName %>
        </a>
      </td>
      <td>
        <%= user.email %>
      </td>
      <td>
        <%= user.zipCode %>
      </td>
       <td>
      <%# 編集用のタグにユーザーのIDを埋め込む %> 
        <a href="<%=`/users/${user._id}/edit`%>">
          編集
        </a>
      </td>
      <td>
      <%# 削除可否のダイアログを表示して、OKなら削除アクションのパスに飛ぶ,return confirm（HTMLの属性） %> 
      <a href="<%=`/users/${user._id}/delete?_method=DELETE` %>" onclick="return confirm('Are you sure you want to delete this record?')">削除</a>
      <td>
    </tr>
    <% }); %>
  </tbody>
</table>


<%# // 3 (indexの経路)
main.jsの/usersパスを叩くと、 
usersController.jsのindex実行し、
Userに基づき、modelsの設計図を使って、
DBusersにある情報を取得しindex.ejsで指定された情報のみページに表示する。
%> 